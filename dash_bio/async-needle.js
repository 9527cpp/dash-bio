(window.webpackJsonpdash_bio=window.webpackJsonpdash_bio||[]).push([[5],{46:function(t,n,e){"use strict";e.r(n),e.d(n,"default",(function(){return q}));var r=e(1),o=e.n(r),a=e(61),i=e.n(a),u=e(10);function c(t){return"[object Number]"===Object.prototype.toString.call(t)}var l=Object(u.a)((function(t,n){if(!c(t)||!c(n))throw new TypeError("Both arguments to range must be numbers");for(var e=[],r=t;r<n;)e.push(r),r+=1;return e})),s=e(3),f=Object(s.a)((function(t){return function(){return t}})),p=Object(u.a)((function(t,n){var e,r=Number(n),o=0;if(r<0||isNaN(r))throw new RangeError("n must be a non-negative number");for(e=new Array(r);o<r;)e[o]=t(o),o+=1;return e})),y=Object(u.a)((function(t,n){return p(f(t),n)})),h=e(4);function b(t){return function n(e,r,o){switch(arguments.length){case 0:return n;case 1:return Object(h.a)(e)?n:Object(u.a)((function(n,r){return t(e,n,r)}));case 2:return Object(h.a)(e)&&Object(h.a)(r)?n:Object(h.a)(e)?Object(u.a)((function(n,e){return t(n,r,e)})):Object(h.a)(r)?Object(u.a)((function(n,r){return t(e,n,r)})):Object(s.a)((function(n){return t(e,r,n)}));default:return Object(h.a)(e)&&Object(h.a)(r)&&Object(h.a)(o)?n:Object(h.a)(e)&&Object(h.a)(r)?Object(u.a)((function(n,e){return t(n,e,o)})):Object(h.a)(e)&&Object(h.a)(o)?Object(u.a)((function(n,e){return t(n,r,e)})):Object(h.a)(r)&&Object(h.a)(o)?Object(u.a)((function(n,r){return t(e,n,r)})):Object(h.a)(e)?Object(s.a)((function(n){return t(n,r,o)})):Object(h.a)(r)?Object(s.a)((function(n){return t(e,n,o)})):Object(h.a)(o)?Object(s.a)((function(n){return t(e,r,n)})):t(e,r,o)}}}var d=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};var m=Object(s.a)((function(t){return!!d(t)||!!t&&("object"==typeof t&&(!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))})),g=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,n){return this.f(t,n)},t}();var x=Object(u.a)((function(t,n){return function(t,n){switch(t){case 0:return function(){return n.apply(this,arguments)};case 1:return function(t){return n.apply(this,arguments)};case 2:return function(t,e){return n.apply(this,arguments)};case 3:return function(t,e,r){return n.apply(this,arguments)};case 4:return function(t,e,r,o){return n.apply(this,arguments)};case 5:return function(t,e,r,o,a){return n.apply(this,arguments)};case 6:return function(t,e,r,o,a,i){return n.apply(this,arguments)};case 7:return function(t,e,r,o,a,i,u){return n.apply(this,arguments)};case 8:return function(t,e,r,o,a,i,u,c){return n.apply(this,arguments)};case 9:return function(t,e,r,o,a,i,u,c,l){return n.apply(this,arguments)};case 10:return function(t,e,r,o,a,i,u,c,l,s){return n.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}(t.length,(function(){return t.apply(n,arguments)}))}));function v(t,n,e){for(var r=e.next();!r.done;){if((n=t["@@transducer/step"](n,r.value))&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}r=e.next()}return t["@@transducer/result"](n)}function O(t,n,e,r){return t["@@transducer/result"](e[r](x(t["@@transducer/step"],t),n))}var j="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function w(t,n,e){if("function"==typeof t&&(t=function(t){return new g(t)}(t)),m(e))return function(t,n,e){for(var r=0,o=e.length;r<o;){if((n=t["@@transducer/step"](n,e[r]))&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}r+=1}return t["@@transducer/result"](n)}(t,n,e);if("function"==typeof e["fantasy-land/reduce"])return O(t,n,e,"fantasy-land/reduce");if(null!=e[j])return v(t,n,e[j]());if("function"==typeof e.next)return v(t,n,e);if("function"==typeof e.reduce)return O(t,n,e,"reduce");throw new TypeError("reduce: list must be array or iterable")}var S=b(w),A=Object(u.a)((function(t,n){return n>t?n:t}));function E(t){return"[object Object]"===Object.prototype.toString.call(t)}var k=e(5),P=b((function(t,n,e){var r,o={};for(r in n)Object(k.a)(r,n)&&(o[r]=Object(k.a)(r,e)?t(r,n[r],e[r]):n[r]);for(r in e)Object(k.a)(r,e)&&!Object(k.a)(r,o)&&(o[r]=e[r]);return o})),_=b((function t(n,e,r){return P((function(e,r,o){return E(r)&&E(o)?t(n,r,o):n(e,r,o)}),e,r)})),N=Object(u.a)((function(t,n){return _((function(t,n,e){return e}),t,n)})),C=e(176),T=e(16);function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t){return function(t){if(Array.isArray(t))return I(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||z(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var e=[],r=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(r=(i=u.next()).done)&&(e.push(i.value),!n||e.length!==n);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return e}(t,n)||z(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(t,n){if(t){if("string"==typeof t)return I(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(e):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?I(t,n):void 0}}function I(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function D(){return(D=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function F(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function J(t,n){return(J=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function L(t,n){return!n||"object"!==M(n)&&"function"!=typeof n?U(t):n}function U(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function G(t){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function H(t){return!isNaN(parseFloat(t))&&isFinite(t)}function X(t,n,e,r){var o=(n-t)/r,a=Math.max(2,r);return[l(0,a).map((function(n){return t+n*o})),y(e,a)]}function $(t){return S(A,-1/0,function(t){return t.filter((function(t){return Number(H(t))}))}(t))}var q=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&J(t,n)}(c,t);var n,e,r,a,u=(n=c,function(){var t,e=G(n);if(W()){var r=G(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return L(this,t)});function c(){var t;return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,c),(t=u.call(this)).state={xStart:null,xEnd:null},t.handleChange=t.handleChange.bind(U(t)),t}return e=c,(r=[{key:"UNSAFE_componentWillMount",value:function(){this.props=N(c.defaultProps,this.props)}},{key:"handleChange",value:function(t){t["xaxis.range[0]"]||t["xaxis.range"]?this.setState({xStart:t["xaxis.range[0]"]||t["xaxis.range"][0],xEnd:t["xaxis.range[1]"]||t["xaxis.range"][1]}):!0===t["xaxis.autorange"]&&this.setState({xStart:null,xEnd:null})}},{key:"render",value:function(){var t=this.props.id,n=this.prepareTraces(),e=n.data,r=n.globalAnnotation,a=n.domainAnnotations,u=this.prepareLayout({data:e,globalAnnotation:r,domainAnnotations:a});return o.a.createElement("div",{id:t},o.a.createElement(i.a,D({data:e,layout:u,onRelayout:this.handleChange},Object(C.a)(["setProps"],this.props))))}},{key:"prepareTraces",value:function(){var t=N(c.defaultProps,this.props),n=t.mutationData,e=n.x,r=n.y,o=n.mutationGroups,a=n.domains,i=t.domainStyle,u=i.domainColor,l=i.displayMinorDomains,s=t.needleStyle,f=s.stemColor,p=s.stemThickness,y=s.stemConstHeight,h=s.headSize,b=s.headColor,d=s.headSymbol,m=B(function(t){var n=[],e=[],r=[],o=[];return t.forEach((function(t,a){if(t.indexOf("-")>-1){var i=t.split("-");H(i[0])||H(i[1])?o.push(a):e.push(t)}else r.push(a),n.push(t)})),[n,e,r,o]}(e),3),g=m[0],x=m[1],v=m[2],O=Array.isArray(b)?b:o.map((function(){return b})),j=Array.isArray(d)?d:o.map((function(){return d})),w=u,S=Math.min.apply(null,g),A=Math.max.apply(null,g),E=!0===y?1:$(r),k=this.state.xStart||S,P=(this.state.xEnd||A)-k,_=!0===y?.5:E/10,C=!0===y?2:E+_,T=[],M=[],z=[],I=[];v.forEach((function(t){y?I=I.concat([1]):(z=z.concat(["("+e[t]+","+r[t]+")"]),I=I.concat([r[t]]))}));var D=!0===y?"x+name+text":"name+text";a.forEach((function(t,n){var e=t.coord.split("-"),r=Number(e[0]),o=Number(e[1]),a=o-r;T.push({x:[o,r],y:[C,C],xaxis:"x1",name:t.name,fill:"tozeroy",mode:"lines",opacity:.5,visible:"legendonly",legendgroup:t.name,marker:{color:w[n]}});var i=B(X(r,o,-_,o-r),2),u=i[0],c=i[1];T.push({type:"scatter",mode:"lines",fill:"tozeroy",fillcolor:w[n],hoveron:"points+fills",x:u,y:c,xaxis:"x2",showlegend:!1,hoverinfo:"name",name:"[".concat(r,"->").concat(o,"] ").concat(t.name),marker:{color:w[n]},line:{width:2}}),M.push({x:(r+o)/2,y:-_/2,showarrow:!1,text:t.name,width:a,align:a<.2*P?"right":"center"})})),!0===l&&x.forEach((function(t){var n=Number(t.split("-")[0]),r=Number(t.split("-")[1]),a=o[e.indexOf(t)],i=B(X(n,r,-_/2,r-n),2),u=i[0],c=i[1];T.push({type:"scatter",mode:"lines",x:u,y:c,fill:"tozeroy",fillcolor:O[R(new Set(o)).indexOf(a)],hoveron:"points+fills",xaxis:"x2",hoverinfo:"name+text",name:a,text:"[".concat(n,"->").concat(r,"] "),showlegend:!1,marker:{color:O[R(new Set(o)).indexOf(a)]},line:{width:33}})}));var F=[{text:"<b>".concat(g.length+x.length," Mutations</b>"),x:.01,xref:"paper",y:1.1,yref:"paper",showarrow:!1,align:"left"}];return{data:[{type:"scatter",mode:"markers",x:g,y:I,xaxis:"x1",hoverinfo:D,text:z,error_y:{type:"data",symmetric:!1,array:0,arrayminus:I,thickness:p,width:0,color:f},transforms:[{type:"groupby",groups:o,nameformat:"%{group}",styles:R(new Set(o)).map((function(t,n){return{target:t,value:{marker:{size:h,symbol:j[n],color:O[n]}}}}))}]}].concat(T),globalAnnotation:F,domainAnnotations:M}}},{key:"prepareLayout",value:function(t){var n=t.data,e=t.globalAnnotation,r=t.domainAnnotations,o=N(c.defaultProps,this.props),a=o.xlabel,i=o.ylabel,u=o.rangeSlider,l=this.state,s=l.xStart,f=l.xEnd,p=!1;(Boolean(!s)||Boolean(!f))&&(p=!0,n.forEach((function(t){var n=Math.min.apply(null,t.x),e=Math.max.apply(null,t.x);(s>n||Boolean(!s))&&(s=n),(f<e||Boolean(!f))&&(f=e)})));var y={legend:{orientation:"v",x:1,y:1.05,bgcolor:"rgba(255, 255, 255, 0)"},hovermode:"closest",xaxis:{title:a,showgrid:!1,zeroline:!1,autorange:Boolean(!s),range:[s,f],anchor:"y"},xaxis2:{scaleanchor:"x",autorange:Boolean(!s),range:[s,f],anchor:"y",overlaying:"x"},yaxis:{title:i,showgrid:!1,ticks:"inside"},margin:{t:100,l:40,r:0,b:40},annotations:r.concat(e)};return!0===u&&(y.xaxis.rangeslider=!0===p?{range:[.98*s,1.02*f]}:{}),y}}])&&F(e.prototype,r),a&&F(e,a),c}(r.Component);q.propTypes=T.c,q.defaultProps=T.b}}]);