(window.webpackJsonpdash_bio=window.webpackJsonpdash_bio||[]).push([[8],{160:function(e,t){function n(e,t,n,r){var o,i=null==(o=r)||"number"==typeof o||"boolean"==typeof o?r:n(r),c=t.get(i);return void 0===c&&(c=e.call(this,r),t.set(i,c)),c}function r(e,t,n){var r=Array.prototype.slice.call(arguments,3),o=n(r),i=t.get(o);return void 0===i&&(i=e.apply(this,r),t.set(o,i)),i}function o(e,t,n,r,o){return n.bind(t,e,r,o)}function i(e,t){return o(e,this,1===e.length?n:r,t.cache.create(),t.serializer)}function c(){return JSON.stringify(arguments)}function s(){this.cache=Object.create(null)}s.prototype.has=function(e){return e in this.cache},s.prototype.get=function(e){return this.cache[e]},s.prototype.set=function(e,t){this.cache[e]=t};var u={create:function(){return new s}};e.exports=function(e,t){var n=t&&t.cache?t.cache:u,r=t&&t.serializer?t.serializer:c;return(t&&t.strategy?t.strategy:i)(e,{cache:n,serializer:r})},e.exports.strategies={variadic:function(e,t){return o(e,this,r,t.cache.create(),t.serializer)},monadic:function(e,t){return o(e,this,n,t.cache.create(),t.serializer)}}},47:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));var r=n(1),o=n.n(r),i=n(5);var c="function"==typeof Object.assign?Object.assign:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1,r=arguments.length;n<r;){var o=arguments[n];if(null!=o)for(var c in o)Object(i.a)(c,o)&&(t[c]=o[c]);n+=1}return t},s=n(3),u=Object(s.a)((function(e){return c.apply(null,[{}].concat(e))})),a=n(48),l=n(160),p=n.n(l),f=n(21),h=n(19);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=p()((function(e){for(var t=f.speckSystem.new(),n=0;n<e.length;n++){var r=e[n];f.speckSystem.addAtom(t,r.symbol,r.x,r.y,r.z)}return f.speckSystem.center(t),f.speckSystem.calculateBonds(t),t})),S=function(e){return u([e,{rotation:new Float32Array(e.rotation),translation:u([e.translation])}])},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign(e,t)},k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,e);var t,n,r,i,c=(t=s,function(){var e,n=g(t);if(m()){var r=g(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return w(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=c.call(this,e)).state={renderer:null},t.eventListenDestructor=function(){},t.refreshView=!1,t.propsReconcileTimeout=null,t.view=O(f.speckView.new(),e.view),t.props.setProps({view:S(t.view)}),t.setCanvasRef=function(e){t.canvas=e},t.setContainerRef=function(e){t.container=e},t.loop=t.loop.bind(b(t)),t.loadStructure=t.loadStructure.bind(b(t)),t.propsReconcile=t.propsReconcile.bind(b(t)),t.propsReconcileSchedule=t.propsReconcileSchedule.bind(b(t)),t}return n=s,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.scrollZoom,n=this.canvas,r=this.container,o=new f.speckRenderer(n,200,300);this.setState({renderer:o},this.loadStructure),this.eventListenDestructor=Object(f.speckInteractions)({scrollZoom:t,container:r,getRotation:function(){return e.view.rotation},setRotation:function(t){e.view=O(e.view,{rotation:t}),e.propsReconcileSchedule()},getTranslation:function(){return e.view.translation},setTranslation:function(t){e.view=O(e.view,{translation:t}),e.propsReconcileSchedule()},getZoom:function(){return e.view.zoom},setZoom:function(t){e.view=O(e.view,{zoom:t}),e.propsReconcileSchedule()},refreshView:function(){return e.refreshView=!0}}),this.loop()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.data,r=t.view,o=t.presetView,i=this.state.renderer,c=this.view,s=!1;e.presetView!==o&&(c=O(c,f.speckPresetViews[o]),this.propsReconcileSchedule(),s=!0),function(e){for(var t=JSON.stringify(e),n=1;n<arguments.length;n++)if(t===JSON.stringify(arguments[n]))return!0;return!1}(r,e.view,c)||(c=O(c,r),s=!0),Object(a.a)(n,e.data)||(s=!0),s&&(this.view=c,i&&this.loadStructure())}},{key:"componentWillUnmount",value:function(){this.state.renderer=null,this.eventListenDestructor(),this.props.setProps({view:this.view})}},{key:"propsReconcile",value:function(){Object(a.a)(this.view,this.props.view)||this.props.setProps({view:S(this.view)})}},{key:"propsReconcileSchedule",value:function(){clearTimeout(this.propsReconcileTimeout),this.propsReconcileTimeout=setTimeout(this.propsReconcile,500)}},{key:"loadStructure",value:function(){var e=this.props.data;if(0!==e.length){var t=this.state.renderer,n=this.view,r=R(e);t.setSystem(r,n),t.setResolution(n.resolution,n.aoRes),this.refreshView=!0}}},{key:"loop",value:function(){this.state.renderer&&this.view&&(this.refreshView&&(this.state.renderer.reset(),this.refreshView=!1),this.state.renderer.render(this.view)),requestAnimationFrame(this.loop)}},{key:"render",value:function(){var e=this.props.id,t=this.view,n={height:t.resolution,width:t.resolution};return o.a.createElement("div",{id:e,ref:this.setContainerRef,style:n},o.a.createElement("canvas",{ref:this.setCanvasRef,width:t.resolution,height:t.resolution}))}}])&&y(n.prototype,r),i&&y(n,i),s}(r.Component);k.defaultProps=h.b,k.propTypes=h.c}}]);